
<div class="data-card data-card-page-titles" matRipple fxFlex="32" fxFlex.xs="100">
  <div class="data-card-icon">
    <mat-icon>attach_money</mat-icon>
  </div>
  <div class="data-card-text" style="padding-top: 5px">
    <img src="/assets/images/logoSmallDark.png" height="32" width="32"/> &nbsp;Your Items for <strong>Sale</strong>
  </div>
</div>
<!-- item selector tool to update other tools -->
<div class="row">
  <div class="col-md-auto"><p style="margin-top: 18px">Select an item to refresh the tools below: </p></div>
  <div class="col-md-auto">
    <mat-form-field>
      <mat-select [(value)]="selectedItem">
        <mat-option *ngFor="let item of products" [value]="item.id">
          {{item.name}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="col-md-auto"><p style="margin-top: 18px">Selected Item ID: {{selectedItem}}</p></div>
  <button mat-raised-button color="primary" (click)="openAddItemDialog()">Add Test Item</button>
</div>
<!-- cards with seller tools -->
<div class="row">
  <div class="col-md-4">
    <div class="col">
      <!-- Insights tool -->
      <div>
        <app-seller-insights [itemId]=selectedItem></app-seller-insights>
      </div>
      <!-- set price tool -->
      <div>
        <mat-card>
          <mat-card-header class="price-header">
            <mat-card-title>Set price targets for your inventory:</mat-card-title>
            <mat-card-subtitle>We'll let you know when the target is reached</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <p>Selected Item ID: {{selectedItem}}</p>
            <mat-form-field>
              <mat-label>Enter the price:</mat-label>
              <input [(ngModel)]="setPriceTargetData.price" matInput type="number">
            </mat-form-field>
          </mat-card-content>
          <button mat-raised-button color="primary" (click)="setPriceTarget()">Save/Update</button>
        </mat-card>
      </div>
      <!-- top 5 tool -->
      <app-top5></app-top5>
    </div>
  </div>
  <!-- historical price tool -->
  <div class="col-md-8">
    <div class="col">
      <div>
        <app-historical-price [itemId]=selectedItem></app-historical-price>
      </div>
    </div>
    <div>
      <!-- table with inventory -->
      <app-table></app-table>
    </div>
    <!-- add single item to inventory -->
    <div class="card-body">
      <input [(ngModel)]="addProductData.name" size=20 placeholder="Name" />
      <input [(ngModel)]="addProductData.quantity" size=3 placeholder="Quantity" />
      <form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-3 my-2 my-md-0">
        <button mat-raised-button color="primary" (click)="addProduct()">Add Item</button>
      </form>
    </div>
    <!-- import csv to inventory -->
    <div>
      <table class="table table-responsive table-hover" style="width : 90%;">
        <tbody>
          <ng-container *ngFor="let csvRec of csvRecords;let i=index">
            <tr>
              <ng-container *ngFor="let data of csvRec;let j=index">
                <td>{{data}}</td>
              </ng-container>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div>
    <div class="input-group">
      <div class="custom-file">
        <input type="file" class="upload" id="inputGroupFile04" (change)="fileListener($event.target.files)">
        <label class="custom-file-label" for="inputGroupFile04">{{fileName}}</label>
      </div>
      <div class="input-group-append">
        <button class="btn btn-outline-secondary" type="button" (click)="importProducts()">Import</button>
      </div>
    </div>
  </div>
</div>
